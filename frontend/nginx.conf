user  nginx;
worker_processes auto;

error_log /var/log/nginx/error.log warn;
pid /var/run/nginx.pid;

events {
	worker_connections 1024;
}

http {
	include       /etc/nginx/mime.types;
	default_type  application/octet-stream;

	sendfile        on;
	tcp_nopush      on;
	tcp_nodelay     on;
	keepalive_timeout 65;

	gzip on;
	gzip_static on;
	gzip_types
		text/plain
		text/css
		text/javascript
		application/javascript
		application/json
		application/xml
		image/svg+xml
		font/woff2;

	server {
		listen 80;
		server_name _;

		root /usr/share/nginx/html;
		index index.html;

		location / {
			try_files $uri $uri/ /index.html;
		}

		location ~* \.(?:ico|gif|jpe?g|png|webp)$ {
			expires 30d;
			add_header Cache-Control "public, immutable";
		}

		location ~* \.(?:js|css|svg|woff2?)$ {
			expires 30d;
			add_header Cache-Control "public, immutable";
		}
	}
}
